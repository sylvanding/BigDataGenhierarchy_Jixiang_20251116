# Assignment 3 任务规划总览

## 📋 任务概述

Assignment 3的核心任务是实现GH树（Generalized Hyperplane Tree）和VP树（Vantage Point Tree）两种树状度量空间索引结构，并进行全面的性能对比分析。

## 🎯 核心目标

1. **代码实现**：基于Java实现GHT和VPT的完整功能
   - 索引批建算法
   - 范围查询算法  
   - k近邻查询算法

2. **实验设计**：设计科学合理的性能对比实验
   - 至少3个数据集（蛋白质序列、低维向量、高维向量）
   - 统一的pivot选择策略
   - 树高至少3层的控制方法

3. **正确性验证**：通过多种方式证明实现的正确性
   - 小规模数据手工验证
   - 与线性扫描结果对比
   - GHT与VPT结果一致性检查

4. **性能分析**：深入分析两种树的性能差异
   - 构建性能对比
   - 查询性能对比（范围查询、kNN查询）
   - 不同数据集上的表现差异
   - 性能差异的原因分析

## 📚 文档结构

本任务规划包含以下文档：

### 1. [00-项目整体架构规划.md](./00-项目整体架构规划.md)

- 代码仓库的整体架构设计
- 新增模块的详细说明
- 与Assignment 1和2的继承关系
- 目录结构和文件组织

### 2. [01-Assignment3-详细任务分解.md](./01-Assignment3-详细任务分解.md)

- 具体任务分解到类和方法级别
- 每个任务的实现细节和注意事项
- 测试用例设计
- 实现优先级和依赖关系

### 3. [02-理论基础整理.md](./02-理论基础整理.md)

- GH树的理论基础（来自full.md第3.4节）
- VP树的理论基础（来自full.md第3.5节）
- 树状索引的通用原理
- Pivot选择理论（第5章）
- 数据划分理论（第6章）
- 对应UMAD-OriginalCode中的实现分析

### 4. [03-演示程序重组方案.md](./03-演示程序重组方案.md) 🆕

- 解决Assignment 1-2和Assignment 3演示程序组织冲突
- 新的目录结构设计 (`examples/` 包)
- 迁移步骤和验证清单
- Assignment 3演示程序规划

### 5. 本文档（README.md）

- 任务总览
- 进度追踪
- 快速导航

## 📊 实验报告结构

实验报告将使用LaTeX编写，放置在`Assignment3/lab-report-3/`目录下，报告结构如下：

```
1. 引言
   1.1 研究背景与意义
   1.2 任务回顾与目标
   1.3 实验环境
   1.4 报告结构

2. 树状度量空间索引理论基础
   2.1 树状索引概述
   2.2 GH树（Generalized Hyperplane Tree）
   2.3 VP树（Vantage Point Tree）
   2.4 GHT与VPT的理论对比

3. GHT和VPT实现
   3.1 系统架构扩展
   3.2 GHT实现
   3.3 VPT实现
   3.4 Pivot选择与树高控制

4. 功能正确性验证
   4.1 测试环境与小规模测试数据集
   4.2 GHT正确性验证
   4.3 VPT正确性验证
   4.4 GHT与VPT结果一致性验证

5. 性能对比实验设计与实施
   5.1 实验方案设计
   5.2 蛋白质序列数据集实验
   5.3 低维向量数据集实验
   5.4 高维向量数据集实验

6. 性能对比分析
   6.1 实验结果汇总
   6.2 不同数据集上的性能差异分析
   6.3 性能差异的原因分析
   6.4 GHT与VPT的优缺点总结
   6.5 改进方向讨论

7. 总结与展望
   7.1 工作总结
   7.2 未来展望
```

详细实验报告目录请参考`Assignment3/Assignment3-Requirements.md`。

## 🗂️ 数据集说明

根据`docs/1. UMAD概览/1.2 数据集介绍.md`，本项目将使用以下数据集：

### 1. 蛋白质序列数据集

- **数据位置**：
  - 测试数据：`UMAD-Dataset/examples/Protein/test_proteins.fasta`
  - 完整数据：`UMAD-Dataset/full/Protein/unzipped/yeast.txt`
- **数据类型**：Protein sequence (6-mers)
- **距离函数**：mPAM替代矩阵全局比对距离
- **查询半径建议**：0, 1, 2, 3, 4, 5, 6
- **特点**：长度为6的片段，酵母蛋白质序列，适合测试序列数据的索引性能

### 2. 低维向量数据集（2-5维）

- **数据位置**：
  - 测试数据：`UMAD-Dataset/examples/Vector/test_vectors_2d.txt`
  - 2维聚类数据：`UMAD-Dataset/full/Vector/unzipped/clusteredvector-2d-100k-100c.txt`
  - 5维随机数据：`UMAD-Dataset/full/Vector/unzipped/randomvector-5-1m.txt`
  - 2维边界数据：`hawaii.txt`（夏威夷）、`texas.txt`（德克萨斯）
- **距离函数**：Minkowski距离（L1, L2等）
- **查询半径建议**：
  - 聚类/随机数据：0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3
  - 边界数据：0, 0.02, 0.04, 0.06, 0.08, 0.1
- **特点**：低维度下空间划分效果明显，可观察不同数据分布的影响

### 3. 高维向量数据集（20维）

- **数据位置**：`UMAD-Dataset/full/Vector/unzipped/uniformvector-20dim-1m.txt`
- **数据类型**：20维均匀分布向量
- **数据规模**：1,000,000个向量
- **距离函数**：Minkowski距离（L2为主）
- **查询半径建议**：0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3
- **特点**：高维度下存在"维度灾难"，适合测试索引在高维空间的性能退化情况

## ⚙️ 技术栈

- **编程语言**：Java 12
- **构建工具**：Maven 3.x
- **测试框架**：JUnit 5
- **报告工具**：LaTeX (使用XeLaTeX编译)
- **数据格式**：参考UMAD数据集格式规范

## 🔗 参考资源

- **理论基础**：`docs/0. 课程教材/full.md` 第3.4节（GH树）、第3.5节（VP树）
- **原始实现**：`UMAD-OriginalCode/src/main/java/index/structure/`
  - `GHIndex.java` - GH树索引实现
  - `VPIndex.java` - VP树索引实现
  - `GHPartitionMethods.java` - GH树划分方法
  - `VPPartitionMethods.java` - VP树划分方法
- **数据集说明**：`docs/1. UMAD概览/1.2 数据集介绍.md`
- **Assignment 1 & 2**：`tasks/Assignment1-2/01-Assignment1-详细任务分解.md`、`tasks/Assignment1-2/02-Assignment2-详细任务分解.md`

## ✅ 进度追踪

### 阶段一：理论学习与架构设计 (预计3天)

- [ ] 深入学习GH树和VP树的理论基础
- [ ] 分析UMAD-OriginalCode中的实现
- [ ] 设计本项目的架构和接口
- [ ] 编写详细的技术文档

### 阶段二：核心功能实现 (预计7天)

- [ ] 实现GHTree类及其节点结构
- [ ] 实现VPTree类及其节点结构
- [ ] 实现批建算法（buildTree）
- [ ] 实现范围查询算法
- [ ] 实现kNN查询算法
- [ ] 实现统一的Pivot选择策略
- [ ] 实现树高控制机制

### 阶段三：正确性验证 (预计3天)

- [ ] 设计小规模测试数据集
- [ ] 实现手工验证程序
- [ ] 与线性扫描结果对比
- [ ] GHT与VPT结果一致性检查
- [ ] 编写单元测试

### 阶段四：性能实验 (预计5天)

- [ ] 准备3个实验数据集
- [ ] 实现性能评测框架
- [ ] 执行蛋白质序列数据集实验
- [ ] 执行低维向量数据集实验
- [ ] 执行高维向量数据集实验
- [ ] 收集和整理实验数据

### 阶段五：报告撰写 (预计5天)

- [ ] 完成报告第1-2章（引言和理论基础）
- [ ] 完成报告第3章（实现部分）
- [ ] 完成报告第4章（正确性验证）
- [ ] 完成报告第5章（性能实验）
- [ ] 完成报告第6章（性能分析）
- [ ] 完成报告第7章（总结与展望）
- [ ] 报告排版和优化

## 📝 注意事项

1. **代码复用**：充分利用Assignment 1和2已实现的基础设施（数据类型、距离函数、数据读取等）

2. **接口统一**：确保GHTree和VPTree实现统一的索引接口，便于性能对比

3. **Pivot统一**：GHT和VPT必须使用完全相同的pivot点，以确保对比的公平性

4. **树高控制**：实现明确的树高控制机制，确保树高至少为3层

5. **性能评估指标**：
   - 索引构建时间
   - 索引空间占用
   - 查询响应时间
   - 距离计算次数
   - IO次数（如果适用）

6. **实验可重复性**：所有实验参数需明确记录，保证实验可重复

7. **代码质量**：遵循Java编码规范，添加充分的注释和文档

8. **测试覆盖**：核心功能需要有充分的单元测试覆盖

## 🔄 更新日志

- 2025-12-10：创建Assignment3任务规划文档结构
- 待更新...

## 📞 联系方式

如有问题，请参考：

- 项目README：`README.md`
- Assignment需求文档：`Assignment3/Assignment3-Requirements.md`
- 理论基础文档：`tasks/Assignment3/02-理论基础整理.md`
